(this["webpackJsonpmy-inventory-app"]=this["webpackJsonpmy-inventory-app"]||[]).push([[0],{18:function(e,t,n){},32:function(e,t,n){e.exports=n(48)},37:function(e,t,n){},38:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),i=n.n(o),c=(n(37),n(2)),s=n(3),u=n(5),l=n(4),m=n(6),p=n(27),d=n(10),h=(n(38),n(15)),f=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Menu"},r.a.createElement(h.b,{to:"/addProduct"},r.a.createElement("button",{className:"menu-button"},"Add Product")),r.a.createElement(h.b,{to:"/"},r.a.createElement("button",{className:"menu-button"},"Inventory")))}}]),t}(r.a.Component),b=(n(43),n(8)),E=function(e){return function(t){fetch("/products/".concat(e.id),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(window.localStorage.getItem("auth-token"))}}).then((function(e){return e.json()})).then((function(n){t({type:"DELETE_PRODUCT",id:e.id})}))}},g=function(e){return{type:"STORE_PRODUCT_DATA",product:e}},y=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).handleOnClickEdit=function(){var e=n.props.item._id,t=n.props.item.name,a=n.props.item.image;n.props.dispatch(g({_id:e,name:t,image:a})),n.props.history.push("/edit")},n.handleOnClickDelete=function(){console.log(n.props.item.id,n.props.item.name,n.props.item.image);var e=n.props.item._id,t=n.props.item.name,a=n.props.item.image;n.props.dispatch(E({id:e,name:t,image:a})),n.props.history.push("/")},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){"/edit/".concat(this.props.item._id);return r.a.createElement("div",{className:"Product"},r.a.createElement("img",{src:this.props.item.image,alt:this.props.item.name}),r.a.createElement("p",{className:"id"},this.props.item._id),r.a.createElement("p",{className:"id"},this.props.item.name),r.a.createElement("button",{onClick:this.handleOnClickEdit},"Edit"),r.a.createElement("button",{onClick:this.handleOnClickDelete},"Delete"))}}]),t}(r.a.Component),O=Object(d.g)(Object(b.b)()(y)),j=(n(45),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch((function(e){fetch("/products",{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(window.localStorage.getItem("auth-token"))}}).then((function(e){return e.json()})).then((function(t){e({type:"GET_PRODUCTS",products:t.products})}))}))}},{key:"render",value:function(){console.log(this.props.productList);var e=this.props.productList.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement(O,{item:e}))}));return r.a.createElement("div",{className:"ProductList"},r.a.createElement("ul",null,e),r.a.createElement(h.b,{to:"/addProduct"},r.a.createElement("button",null,"Add Product")))}}]),t}(r.a.Component)),v=Object(b.b)((function(e){return{productList:e.productList}}))(j),w=(n(18),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onSubmit",value:function(e){e.preventDefault();var t,n=this.name.value,a=this.image.value;this.props.dispatch((t={name:n,image:a},function(e){fetch("/products",{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(window.localStorage.getItem("auth-token"))}}).then((function(e){return e.json()})).then((function(t){e({type:"ADD_PRODUCT",product:t.newProduct})}))})),this.image.value="",this.props.history.push("/")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"formWrapper"},r.a.createElement("form",{className:"productForm",onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{name:"name",id:"name",type:"text",ref:function(t){return e.name=t},required:!0}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"image"},"Image"),r.a.createElement("input",{name:"image",id:"image",type:"text-area",ref:function(t){return e.image=t},required:!0}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",class:"form-button"},"Add")))}}]),t}(r.a.Component)),D=Object(b.b)()(w),C=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onSubmit",value:function(e){e.preventDefault();var t,n=this.email.value,a=this.password.value;this.props.dispatch((t={email:n,password:a},function(e){fetch("/auth/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){window.localStorage.setItem("auth-token",e.authToken),window.location.href="/"}))})),this.password.value="",this.props.history.push("/")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{classemail:"formWrapper"},r.a.createElement("form",{classemail:"productForm",onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("label",{htmlFor:"email"},"email"),r.a.createElement("input",{name:"email",id:"email",type:"text",ref:function(t){return e.email=t},required:!0}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{name:"password",id:"password",type:"password",ref:function(t){return e.password=t},required:!0}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",class:"form-button"},"Add")))}}]),t}(r.a.Component),S=Object(b.b)()(C),k=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onSubmit",value:function(e){e.preventDefault();var t,n=this.email.value,a=this.password.value;a===this.confirmPassword.value?(a.length<8&&this.setState({error:"password must be a minimum of 8 characters"}),this.props.dispatch((t={email:n,password:a},function(e){fetch("/users/register",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){alert("registration Successfull"),window.location.href="/login"}))})),this.password.value="",this.props.history.push("/")):this.setState({error:"passwords does not match"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{classemail:"formWrapper"},r.a.createElement("form",{classemail:"productForm",onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("label",{htmlFor:"email"},"email"),r.a.createElement("input",{id:"email",name:"email",type:"text",ref:function(t){return e.email=t},required:!0}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{id:"password",name:"password",type:"password",ref:function(t){return e.password=t},required:!0}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"confirm_password"},"Confirm Password"),r.a.createElement("input",{id:"password",name:"confirm password",type:"password",ref:function(t){return e.confirmPassword=t},required:!0}),r.a.createElement("button",{type:"submit",class:"form-button"},"Submit")))}}]),t}(r.a.Component),T=Object(b.b)()(k),P=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onSubmit",value:function(e){e.preventDefault();var t=this.name.value,n=this.image.value,a=this.props.editFormData._id;console.log(a),this.props.dispatch(function(e,t){return function(n){fetch("/products/".concat(e),{method:"PUT",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(window.localStorage.getItem("auth-token"))}}).then((function(e){return e.json()})).then((function(e){n({type:"EDIT_PRODUCT",product:e.product})}))}}(a,{name:t,image:n})),this.props.history.push("/")}},{key:"handleChange",value:function(e){console.log(e.target.value)}},{key:"render",value:function(){var e=this;return console.log("EditForm.render this.props",this.props),r.a.createElement("div",{className:"formWrapper"},r.a.createElement("form",{className:"productForm",onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("label",{htmlFor:"name"},"name"),r.a.createElement("input",{name:"name",id:"name",type:"text",ref:function(t){return e.name=t},onChange:this.handleChange,defaultValue:this.props.editFormData.name,required:!0}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"image"},"Image"),r.a.createElement("input",{name:"image",id:"image",type:"text-area",ref:function(t){return e.image=t},defaultValue:this.props.editFormData.image,required:!0}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",class:"form-button"},"Add")))}}]),t}(r.a.Component),A=Object(d.g)(Object(b.b)((function(e){return{productList:e.productList,editFormData:e.editFormData}}))(P)),_=(n(46),function(e){var t=e.component,n=e.path,a=Object(p.a)(e,["component","path"]);return window.localStorage.getItem("auth-token")?r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement(d.b,Object.assign({path:n,component:t},a))):r.a.createElement(d.a,{to:"/login"})}),F=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Board"},r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/login",component:S}),r.a.createElement(d.b,{path:"/register",component:T}),r.a.createElement(_,{exact:!0,path:"/product",component:O}),r.a.createElement(_,{exact:!0,path:"/",component:v}),r.a.createElement(_,{path:"/addProduct",component:D}),r.a.createElement(_,{path:"/edit",component:A})))}}]),t}(r.a.Component),L=n(17),N=n(30),I=n(31),R={editFormData:{},productList:[{id:3211,name:"red t-shirt",image:"https://imageprod65.hobbylobby.com/sys-master/migrated/h06/h48/h00/8998682099742/422790_3[5].jpg"},{id:1112,name:"blue t-shirt",image:"https://cdn.ccs.com/media/catalog/product/cache/4/image/9df78eab33525d08d6e5fb8d27136e95/e/n/enjoi-doesn-t-fit-t-shirt-royal-blue-2.1506663643.jpg"}]},U=[N.a],q=Object(L.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;if("ADD_PRODUCT"===t.type)return Object.assign({},e,{productList:[].concat(Object(I.a)(e.productList),[t.product])});if("GET_PRODUCTS"===t.type)return Object.assign({},e,{productList:t.products});if("EDIT_PRODUCT"===t.type){var n=e.productList.map((function(e){return e._id===t.product._id?t.product:e}));return Object.assign({},e,{productList:n})}return"STORE_PRODUCT_DATA"===t.type?Object.assign({},e,{editFormData:t.product}):"DELETE_PRODUCT"===t.type?(console.log(t,e.productList),Object.assign({},e,{productList:e.productList.filter((function(e){return e._id!==t.id}))})):e}),L.a.apply(void 0,U));n(47);var x=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b.a,{store:q},r.a.createElement(h.a,null,r.a.createElement(F,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[32,1,2]]]);
//# sourceMappingURL=main.b124fc85.chunk.js.map